function DO_NOTHING() {};

function hexToRgb(hex) {
    let result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16)
    } : null;
}

function getGrayscale(red, green, blue) {
	return red * 0.2989 + green * 0.5870 + blue * 0.1140;
}

function myXor(a, b) {
    // TODO: is there a standard implementation
    return (a ? 1 : 0) ^ (b ? 1 : 0);
}

function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}

// from https://github.com/antimatter15/rgb-lab/blob/master/color.js
function rgb2lab(rgb){
  var r = rgb[0] / 255,
      g = rgb[1] / 255,
      b = rgb[2] / 255,
      x, y, z;

  r = (r > 0.04045) ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;
  g = (g > 0.04045) ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;
  b = (b > 0.04045) ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;

  x = (r * 0.4124 + g * 0.3576 + b * 0.1805) / 0.95047;
  y = (r * 0.2126 + g * 0.7152 + b * 0.0722) / 1.00000;
  z = (r * 0.0193 + g * 0.1192 + b * 0.9505) / 1.08883;

  x = (x > 0.008856) ? Math.pow(x, 1/3) : (7.787 * x) + 16/116;
  y = (y > 0.008856) ? Math.pow(y, 1/3) : (7.787 * y) + 16/116;
  z = (z > 0.008856) ? Math.pow(z, 1/3) : (7.787 * z) + 16/116;

  return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)]
}

// return a number in [0,max_val]. assumes max is > 0.
function randomInt(max_val) {
    return Math.floor(Math.floor(max_val + 1) * Math.random());
}

function randomSortArray(array) {
  var len = array.length;

  var newArray = array.slice();
  for (var i=0; i < len; ++i) {
    var idx = Math.floor(Math.random() * len);
    var tmp = newArray[idx];
    newArray[idx] = newArray[i];
    newArray[i] = tmp; 
  }

  return newArray;
}
